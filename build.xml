<?xml version="1.0"?> 
<project name="owlapibundle" default="bundle" basedir=".">
  <property file="local.properties"/>

  <property name="src" location="${owlapi.dir}/src"/>

  <path id="project.classpath">
      <path refid="osgi.libs"/>
        <fileset dir="${owlapi.dir}/lib"/>
  </path>
    
  <target name="init"> 
    <echo message="---------------Building OWLAPI Bundle-------------"/>
  </target>

  <!--
     = See revision 7836 for a build file that creates a jar file
     = where the owlapi jars are flattened and can therefore function
     = as both a java jar and an OSGi bundle. The performance
     = impact of this change seems negligible.
    -->

  <target name="bundle" depends="init">
    <echo message="Analyzing java bytecode to generate OSGi imports and exports"/>
    <bnd classpath  = "${owlapi.dir}/lib/owlapi-bin.jar"
         files      = "${owlapi.dir}/META-INF/manifest.bnd"
         eclipse    = "false"
         failok     = "false"
         exceptions = "true"
         output     = "${owlapi.jar}"/>
    <echo message="OSGi owlapi bundle built"/>
  </target> 

  <target name = "junit" depends="init"/>

  <!-- this target is to be used in the case where this is 
       not part of a bigger build                          -->
  <target name="clean">
      <delete dir="${build}"/>
  </target>


</project>
